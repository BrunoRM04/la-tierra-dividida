<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css">
    <link rel="stylesheet" href="../styles.css">
    <link rel="shortcut icon" href="../img/logotipos/la tierra dividida.png">
    <title>La Tierra Dividida | La Pasión Según G.H.</title>
</head>

<body>

    <div class="barra-podcast">
        <span class="texto-podcast">
            Un espacio de lectura de Mauro Tomasino y Sergio Requel
        </span>
    </div>

    <header class="encabezado-principal">
        <div class="contenedor-logotipo">
            <a href="../index.html"><img src="../img/logotipos/la tierra dividida.png" alt="Logotipo del sitio"
                    class="logotipo"></a>
        </div>
    </header>

    <main class="zona-detalle-resena">

        <section class="encabezado-resena">
            <h1 class="titulo-detalle">LA PASIÓN SEGÚN G.H.</h1>
            <h2 class="autor-detalle">Clarice Lispector</h2>
        </section>

        <section class="acciones-resena">
            <button class="boton-accion" id="boton-me-gusta">
                <i class="ri-heart-line"></i> Me gusta (<span id="contador-me-gusta">0</span>)
            </button>
            <button class="boton-accion" id="abrir-modal-compartir">
                <i class="ri-share-line"></i> Compartir
            </button>

            <div class="modal-compartir oculto" id="modal-compartir">
                <div class="contenido-modal-compartir">
                    <span id="cerrar-modal-compartir" class="cerrar-modal">&times;</span>
                    <p class="titulo-modal">Compartir esta reseña</p>
                    <div class="iconos-compartir">
                        <a href="#" target="_blank" id="compartir-whatsapp" class="icono-red">
                            <i class="ri-whatsapp-line"></i>
                        </a>
                        <a href="#" target="_blank" id="compartir-facebook" class="icono-red">
                            <i class="ri-facebook-box-line"></i>
                        </a>
                        <button class="icono-red" id="copiar-enlace">
                            <i class="ri-links-line"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section class="contenido-resena-completa">
            <p class="subtitulo-resena">El lenguaje como salvación</p>
            <br>
            <p>
                ‘La Pasión según G.H” es la quinta obra que editó Clarice Lispector, en el año 1964. Algunas de sus
                obras anteriores (“Cerca del corazón salvaje”, 1943; “La araña”, 1946; “La ciudad sitiada”,1949; “La
                manzana en la oscuridad”, 1961) habían tenido una recepción dispar en los medios y la crítica.
            </p>
            <br>
            <p>
                Según la autora, esta novela fue la que le produjo más alegría escribir, una “alegría difícil; pero una
                alegría al fin”, como menciona en el libro. “La pasión según G.H”, surge en un momento de profunda
                crisis personal y familiar. En 1959, Clarice regresó al Brasil, después de haber estado viviendo quince
                años en el extranjero, acompañando a su marido que cumplía misiones como diplomático. Durante su estadía
                en el extranjero la relación con su marido comenzó a descomponerse, desencadenando posteriormente su
                separación.
                <br>
                <br>
                La ucraniana que adoptó como nación al Brasil, escribió esta obra, sentada en la cama con la máquina de
                escribir arriba de sus piernas, rodeada de niños gritando, con su delantal puesto, fumando
                compulsivamente.
                <br>
                <br>
                La duda es el elemento central que atraviesa todo el universo descripto en la novela.  A su vez, la
                religiosidad y lo místico, son dos fenómenos presentes en todo el relato. GH, la protagonista de esta
                historia, se cuestiona y cuestiona todo: su cuerpo, el lenguaje, el mundo material, el inmaterial, etc.
                La obra escrita en primera persona, se construye a través de “diamólogos” (o monólogos en forma de
                diálogos), que reflexionan sobre su entorno, sobre su mundo, el mundo que ¿desconoce? En este universo
                de duda, el azar se convierte en el único orden posible.
                <br>
                <br>
                Una carioca de clase alta (G.H), un día en su departamento, descubre en el cuarto de la criada, una
                cucaracha. Entra al cuarto, y con la puerta aplasta el insecto, inmediatamente lo toma con sus manos y
                lo devora. 
                <br>
                <br>
                El libro es un extraordinario relato sobre los posibles infiernos que los seres humanos deben transitar
                en su existencia. La forma en que se narra la novela es el mejor acierto de la escritora.
                <br>
                <br>
                Según la autora “lo indecible me será dado solamente a través del lenguaje”. La indagación que realiza
                en el lenguaje refleja con acierto el asfixiante caos que padece la protagonista, GH recorre un camino
                de desesperación, y a su vez, de búsqueda de alegría, como menciona en un pasaje del libro: “Dar la mano
                a alguien ha sido siempre lo que esperé de la alegría.”
                <br>
                <br>
                Precisamente, esta última frase está grabada en la tumba de Clarice, que se encuentra en el cementerio
                judío de Cajú ubicado en Río de Janeiro.  
            </p>

            <p class="cita-final">
                <strong>la pasión según G.H.</strong>, Traducción Mario Cámara, El Cuenco de Plata, Buenos Aires, 2010,
                218 pág.
            </p>

            <p class="datos-resena">
                Reseña escrita por <a href="https://www.instagram.com/tomasini_ph/" target="_blank"><strong>Mauro
                        Tomasini</strong></a><br>
                Publicado el 24 de mayo de 2025
            </p>
        </section>

        <section class="comentarios-seccion">
            <h3 class="comentarios-titulo">Comentarios</h3>

            <form id="formulario-comentario" class="comentarios-formulario">
                <label for="nombre-comentario">Nombre</label>
                <input type="text" id="nombre-comentario" required>

                <label for="mensaje-comentario">Comentario</label>
                <textarea id="mensaje-comentario" rows="4" required></textarea>

                <button type="submit">Publicar</button>
            </form>

            <div id="lista-comentarios" class="comentarios-lista"></div>
        </section>

    </main>

    <footer class="pie-pagina">
        <p class="titulo-redes">Visita nuestras redes sociales</p>
        <div class="iconos-redes">
            <a href="https://www.instagram.com/divididalatierra/?hl=en" target="_blank" class="icono-circular">
                <i class="ri-instagram-line"></i>
            </a>
            <a href="https://open.spotify.com/show/7dwCdWLFKsf4V91qTHsAdZ?si=eb28d199ae854e0b" target="_blank"
                class="icono-circular">
                <i class="ri-spotify-line"></i>
            </a>
        </div>
    </footer>


    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCarcJJ0qwALepQg4X4fDhJMindod5Otds",
            authDomain: "latierradividida-1fc04.firebaseapp.com",
            projectId: "latierradividida-1fc04",
            storageBucket: "latierradividida-1fc04.appspot.com",
            messagingSenderId: "376435232740",
            appId: "1:376435232740:web:ccf2b9d9ed61bb46fa01f1"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        const abrirModal = document.getElementById('abrir-modal-compartir');
        const modal = document.getElementById('modal-compartir');
        const cerrarModal = document.getElementById('cerrar-modal-compartir');
        const compartirWhatsapp = document.getElementById('compartir-whatsapp');
        const compartirFacebook = document.getElementById('compartir-facebook');
        const copiarEnlace = document.getElementById('copiar-enlace');

        const reseñaID = "resena_la_pasion_segun_gh";

        // Registrar visita
        const visitasRef = db.collection("visitas").doc(reseñaID);
        db.runTransaction(async (transaction) => {
            const doc = await transaction.get(visitasRef);
            const visitasActuales = doc.exists ? doc.data().contador || 0 : 0;
            transaction.set(visitasRef, { contador: visitasActuales + 1 });
        }).catch((error) => {
            console.error("Error al registrar la visita:", error);
        });

        // Compartir enlaces
        const url = encodeURIComponent(window.location.href);
        const texto = encodeURIComponent('Leé esta reseña: "La pasión según G.H."');
        compartirWhatsapp.href = `https://api.whatsapp.com/send?text=${texto}%20${url}`;
        compartirFacebook.href = `https://www.facebook.com/sharer/sharer.php?u=${url}`;

        abrirModal.addEventListener('click', () => {
            modal.classList.remove('oculto');
        });

        cerrarModal.addEventListener('click', () => {
            modal.classList.add('oculto');
        });

        window.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.add('oculto');
            }
        });

        copiarEnlace.addEventListener('click', () => {
            navigator.clipboard.writeText(window.location.href)
                .then(() => {
                    copiarEnlace.innerHTML = '<i class="ri-check-line"></i>';
                    setTimeout(() => {
                        copiarEnlace.innerHTML = '<i class="ri-links-line"></i>';
                    }, 2000);
                })
                .catch(() => {
                    alert('No se pudo copiar el enlace.');
                });
        });

        // Likes
        const botonMeGusta = document.getElementById("boton-me-gusta");
        const contadorMeGusta = document.getElementById("contador-me-gusta");

        db.collection("likes").doc(reseñaID).get().then(doc => {
            if (doc.exists) {
                contadorMeGusta.textContent = doc.data().cantidad || 0;
            } else {
                contadorMeGusta.textContent = 0;
            }
        });

        botonMeGusta.addEventListener("click", () => {
            const docRef = db.collection("likes").doc(reseñaID);
            db.runTransaction(async (transaction) => {
                const doc = await transaction.get(docRef);
                const cantidadActual = doc.exists ? doc.data().cantidad || 0 : 0;
                transaction.set(docRef, { cantidad: cantidadActual + 1 });
            }).then(() => {
                contadorMeGusta.textContent = parseInt(contadorMeGusta.textContent) + 1;
            }).catch((error) => {
                console.error("Error al actualizar los likes: ", error);
            });
        });

        // Comentarios
        const form = document.getElementById("formulario-comentario");
        const nombre = document.getElementById("nombre-comentario");
        const mensaje = document.getElementById("mensaje-comentario");
        const lista = document.getElementById("lista-comentarios");

        const comentariosRef = db.collection("comentarios_reseñas").doc(reseñaID).collection("lista");

        form.addEventListener("submit", async (e) => {
            e.preventDefault();

            if (nombre.value.trim() && mensaje.value.trim()) {
                await comentariosRef.add({
                    nombre: nombre.value.trim(),
                    mensaje: mensaje.value.trim(),
                    fecha: new Date()
                });

                nombre.value = "";
                mensaje.value = "";
                cargarComentarios();
            }
        });

        function cargarComentarios() {
            lista.innerHTML = "";
            comentariosRef.orderBy("fecha", "desc").get().then(snapshot => {
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const div = document.createElement("div");
                    div.className = "comentario";
                    div.innerHTML = `
                    <strong>${data.nombre}</strong>
                    <p>${data.mensaje}</p>
                `;
                    lista.appendChild(div);
                });
            });
        }

        cargarComentarios();
    </script>
</body>

</html>